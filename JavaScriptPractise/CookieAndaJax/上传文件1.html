<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<input type="file" />

<script>
  var input = document.querySelector("input")

  input.onchange = function () {
    if (input.files[0]){ // 执行上传

      var fd = new FormData()
      fd.append("file",input.files[0])
      var xhr = new XMLHttpRequest()
      xhr.open("POST","http://192.168.100.215:9520/files/upload")
      // 上传进度
      xhr.upload.onprogress = function (e) {
        console.log(e.loaded / e.total * 100 +"%")
      }
      xhr.send(fd)
    }else {
      alert("取消选择")
    }
  }
</script>
</body>
</html>
